(this["webpackJsonpnewleaf-client"]=this["webpackJsonpnewleaf-client"]||[]).push([[0],{196:function(e,t,n){e.exports=n.p+"static/media/logo.1bac332d.PNG"},213:function(e,t,n){e.exports=n(371)},218:function(e,t,n){},339:function(e,t,n){var a={"./bg-BG.json":340,"./ca-ES.json":341,"./cs-CZ.json":342,"./de-DE.json":343,"./en-US.json":174,"./es-ES.json":344,"./fi-FI.json":345,"./fr-FR.json":346,"./he-IL.json":347,"./it-IT.json":348,"./ja-JP.json":349,"./no-NB.json":350,"./pl-PL.json":351,"./pt-BR.json":352,"./ru-RU.json":353,"./sv-SE.json":354,"./tr-TR.json":355,"./zh-CN.json":356};function l(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=r,e.exports=l,l.id=339},358:function(e,t,n){},371:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(52),c=n.n(r),o=(n(218),n(201)),u=n(22),i=n(202),m=n(381),s=n(372),f=n(54),E=n(385),p=n(131),d=n(74),g=n.n(d),h=function(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],c=n[1],d=Object(a.useState)(null),h=Object(u.a)(d,2),j=h[0],b=h[1],v=Object(a.useState)(null),w=Object(u.a)(v,2),C=w[0],O=w[1],S=Object(a.useState)(null),y=Object(u.a)(S,2),k=y[0],N=y[1],z=Object(a.useState)(""),R=Object(u.a)(z,2),F=R[0],L=R[1],T=Object(a.useState)(""),P=Object(u.a)(T,2),I=P[0],x=P[1],B=Object(a.useState)(!1),D=Object(u.a)(B,2),H=D[0],M=D[1];Object(a.useEffect)((function(){fetch("https://acnlapi.azurewebsites.net/api/itemprices/get").then((function(e){return e.json()})).then((function(e){b(e),O(e)}))}),[]);var A=function(e){if(r!==e)return c(e),O(g.a.sortBy(C,[e])),void N("ascending");O(C.reverse()),N("ascending"===k?"descending":"ascending")},U=function(e,t){if(M(!1),e){fetch("https://acnlapi.azurewebsites.net/api/itemprices/delete?itemName=".concat(t));var n=j.filter((function(e){return e.name!==t.toLowerCase()}));b(n),O(n),x(""),L("")}},_=function(){var e=/^\d+$/.test(F);if(F&&I&&e){fetch("https://acnlapi.azurewebsites.net/api/itemprices/add?itemName=".concat(I.toLowerCase().trim(),"&price=").concat(F.trim()));var t=Object(o.a)(j);t.push({name:I.toLowerCase().trim(),price:Number(F)}),b(t),O(t),x(""),L("")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{stackable:!0,columns:2},l.a.createElement(i.a.Column,null,l.a.createElement(m.a,{fluid:!0,onChange:function(e,t){var n=t.value;x(n),n||O(j);var a=0,l=[];j.forEach((function(e){e.name.indexOf(n.toLowerCase())>-1&&(a+=1,l.push(e),a>=10)&&O(l)})),O(l)},icon:{name:"search"},placeholder:"search",value:I})),C&&C.length<4&&l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a.Column,null,l.a.createElement(m.a,{fluid:!0,onChange:function(e,t){var n=t.value;n?/^\d+$/.test(n)&&L(n):L("")},value:F,placeholder:"enter price",action:!0,onClick:_},l.a.createElement("input",null),l.a.createElement(s.a,{primary:!0,icon:!0,onClick:_},l.a.createElement(f.a,{name:"plus"})))))),C&&C.length>0&&l.a.createElement(E.a,{sortable:!0,unstackable:!0},l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,{sorted:"name"===r?k:null,onClick:function(){return A("name")}},"Name"),l.a.createElement(E.a.HeaderCell,{sorted:"price"===r?k:null,onClick:function(){return A("price")}},"Price"),l.a.createElement(E.a.HeaderCell,null,"Actions"))),l.a.createElement(E.a.Body,null,g.a.map(C,(function(e){var t=e.price,n=e.name;return l.a.createElement(E.a.Row,{key:n},l.a.createElement(E.a.Cell,null,n),l.a.createElement(E.a.Cell,null,Number(t)),!H&&l.a.createElement(E.a.Cell,null,l.a.createElement(s.a,{color:"red",size:"tiny",icon:!0,onClick:function(){return M(!0)}}," ",l.a.createElement(f.a,{name:"trash"}))),H&&l.a.createElement(E.a.Cell,null,l.a.createElement(s.a,{color:"red",size:"tiny",icon:!0,onClick:function(){return U(!1,n)}}," ",l.a.createElement(f.a,{name:"cancel"})),l.a.createElement(s.a,{color:"green",size:"tiny",icon:!0,onClick:function(){return U(!0,n)}}," ",l.a.createElement(f.a,{name:"checkmark"}))))})))),C&&C.length<4&&l.a.createElement(p.a,null,l.a.createElement("div",null,"Don't see what you're looking for? Double check your spelling and then add a price!")))},j=n(183),b=function(e){var t=e.performLogin;Object(a.useEffect)((function(){var e=localStorage.getItem("userName");e&&t(e)}));return l.a.createElement(j.GoogleLogin,{clientId:window.location.href.indexOf("localhost")>-1?"296712442440-7ucpq9fvi7942h3pbf4ue59jtfl5119g.apps.googleusercontent.com":"296712442440-c4379tsukpnco35rr57d4as5uslqg0gl.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){var n=e.profileObj.email.replace("@","");t(n),localStorage.clear(),localStorage.setItem("userName",n)},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin"})},v=function(e){var t=e.performLogout;return l.a.createElement(s.a,{onClick:function(){t(),localStorage.clear()}},"Logout")},w=n(78),C=n(382),O=n(199),S=(n(357),function(e){var t=e.fruits,n=e.userName,r=e.addNewTown,c=Object(a.useState)(null),o=Object(u.a)(c,2),f=o[0],E=o[1],p=Object(a.useState)(""),d=Object(u.a)(p,2),g=d[0],h=d[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),v=b[0],S=b[1],y=Object(a.useState)(new Date),k=Object(u.a)(y,2),N=k[0],z=k[1],R=function(){fetch("https://acnlapi.azurewebsites.net/api/town/add?userName=".concat(n,"&townName=").concat(g,"&mayorName=").concat(v,"&createdDate=").concat(N.toISOString(),"&nativeFruit=").concat(f)).then((function(e){return e.json()})).then((function(e){r([e])}))};return l.a.createElement(i.a,{stackable:!0,columns:2},l.a.createElement(i.a.Row,null,l.a.createElement(i.a.Column,{width:8},l.a.createElement("span",null,"A Town wasn't found for your account, please add one!"))),l.a.createElement(i.a.Row,null,l.a.createElement(i.a.Column,null,l.a.createElement(w.a,{size:"large"},"Town Name")),l.a.createElement(i.a.Column,null,l.a.createElement(m.a,{onChange:function(e){return h(e.target.value)}}))),l.a.createElement(i.a.Row,null,l.a.createElement(i.a.Column,null,l.a.createElement(w.a,{size:"large"},"Mayor Name")),l.a.createElement(i.a.Column,null,l.a.createElement(m.a,{onChange:function(e){return S(e.target.value)}}))),l.a.createElement(i.a.Row,null,l.a.createElement(i.a.Column,null,l.a.createElement(w.a,{size:"large"},"Created Date")),l.a.createElement(i.a.Column,null,l.a.createElement(O.a,{onChange:function(e,t){return z(t.value)}}))),l.a.createElement(i.a.Row,null,l.a.createElement(i.a.Column,null,l.a.createElement(w.a,{size:"large"},"Native Fruit")),l.a.createElement(i.a.Column,null,l.a.createElement(C.a,{placeholder:"Select your fruit",options:function(){for(var e=[],n=0;n<t.length;n++)e.push({key:n,value:n,text:t[n]});return e}(),onChange:function(e,t){return E(t.value)}}))),l.a.createElement(i.a.Row,null,l.a.createElement(i.a.Column,null,l.a.createElement(s.a,{onClick:R,primary:!0},"Save"))))}),y=["Sunday(Buy)","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=function(e){var t=e.town,n=Object(a.useState)([]),r=Object(u.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)([]),f=Object(u.a)(i,2),p=f[0],d=f[1],h=Object(a.useState)(-1),j=Object(u.a)(h,2),b=j[0],v=j[1],C=Object(a.useState)(-1),O=Object(u.a)(C,2),S=O[0],k=O[1];Object(a.useEffect)((function(){if(t){var e=t.turnipPrices.split(".");N(e)}}),[t]);var N=function(e){o(e.filter((function(e,t){return t%2===0}))),d(e.filter((function(e,t){return t%2===1})))},z=function(){var e=[];c.forEach((function(t,n){e.push(t),e.push(p[n])}));var n=e.join(".");fetch("https://acnlapi.azurewebsites.net/api/town/updateTurnips?userName=".concat(t.ownerUsername,"&townName=").concat(t.name,"&turnipPrices=").concat(n)).then((function(e){return e.json()})).then((function(e){var t=e.turnipPrices.split(".");N(t)}))},R=function(e,t){return e.map((function(n,a){return b===a&&t===S?l.a.createElement(E.a.Cell,{selectable:!0,textAlign:"center"},l.a.createElement(m.a,{onChange:function(n){return function(e,t,n,a){var l=e.slice();l[n]=t,0===a?o(l):d(l)}(e,n.target.value,a,t)}})):l.a.createElement(E.a.Cell,{selectable:!0,textAlign:"center",onClick:function(){return e=a,k(t),void v(e);var e}},n)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{definition:!0},l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.Cell,null,l.a.createElement(w.a,{ribbon:!0,color:"red"},"Turnips")),g.a.map(y,(function(e){return l.a.createElement(E.a.HeaderCell,null,e)})))),l.a.createElement(E.a.Body,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.Cell,null,"Morning"),R(c,0)),l.a.createElement(E.a.Row,null,l.a.createElement(E.a.Cell,null,"Afternoon"),R(p,1))),l.a.createElement(E.a.Footer,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,null,l.a.createElement(s.a,{primary:!0,size:"large",onClick:z},"Save"))))),l.a.createElement(s.a,{primary:!0,size:"large",onClick:z},"Save"))},N=["Apples","Cherries","Oranges","Peaches","Pears"],z=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(null),i=Object(u.a)(o,2),m=i[0],s=i[1];Object(a.useEffect)((function(){fetch("https://acnlapi.azurewebsites.net/api/town/get?userName=".concat(m)).then((function(e){return e.json()})).then((function(e){c(e)}))}),[m]);return l.a.createElement("div",null,m?l.a.createElement(v,{performLogout:function(){return s(null)}}):l.a.createElement(b,{performLogin:function(e){return s(e)}}),m&&r&&r.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,l.a.createElement("li",null,"Town ",r[0].name),l.a.createElement("li",null,"Mayor ",r[0].mayorName),l.a.createElement("li",null,"Created ",r[0].created),l.a.createElement("li",null,"Fruit ",N[r[0].nativeFruit])),l.a.createElement(k,{town:r[0]})):!m||r&&0!==r.length?l.a.createElement(l.a.Fragment,null):l.a.createElement(S,{fruits:N,userName:m,addNewTown:function(e){return c(e)}}))},R=n(386),F=n(383),L=n(200),T=(n(358),n(196)),P=n.n(T),I=function(e){return l.a.createElement(F.a,{className:"container"},l.a.createElement(L.a,{className:"logo",src:P.a}),l.a.createElement(R.a,{menu:{pointing:!0},panes:[{menuItem:"Prices",render:function(){return l.a.createElement(R.a.Pane,{attached:!1},l.a.createElement(h,null))}},{menuItem:"My Town",render:function(){return l.a.createElement(R.a.Pane,{attached:!1},l.a.createElement(z,null))}}]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.be1e9eb4.chunk.js.map