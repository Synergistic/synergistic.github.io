(this["webpackJsonpnewleaf-client"]=this["webpackJsonpnewleaf-client"]||[]).push([[0],{196:function(e,t,n){e.exports=n.p+"static/media/logo.1bac332d.PNG"},213:function(e,t,n){e.exports=n(371)},218:function(e,t,n){},339:function(e,t,n){var a={"./bg-BG.json":340,"./ca-ES.json":341,"./cs-CZ.json":342,"./de-DE.json":343,"./en-US.json":174,"./es-ES.json":344,"./fi-FI.json":345,"./fr-FR.json":346,"./he-IL.json":347,"./it-IT.json":348,"./ja-JP.json":349,"./no-NB.json":350,"./pl-PL.json":351,"./pt-BR.json":352,"./ru-RU.json":353,"./sv-SE.json":354,"./tr-TR.json":355,"./zh-CN.json":356};function r(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=l,e.exports=r,r.id=339},358:function(e,t,n){},371:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(52),c=n.n(l),o=(n(218),n(201)),u=n(22),i=n(202),m=n(381),s=n(372),f=n(54),E=n(385),p=n(131),d=n(74),g=n.n(d),h=function(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),l=n[0],c=n[1],d=Object(a.useState)(null),h=Object(u.a)(d,2),b=h[0],j=h[1],w=Object(a.useState)(null),v=Object(u.a)(w,2),C=v[0],O=v[1],y=Object(a.useState)(null),S=Object(u.a)(y,2),k=S[0],N=S[1],P=Object(a.useState)(""),R=Object(u.a)(P,2),T=R[0],z=R[1],F=Object(a.useState)(""),L=Object(u.a)(F,2),x=L[0],A=L[1],I=Object(a.useState)(!1),B=Object(u.a)(I,2),D=B[0],M=B[1];Object(a.useEffect)((function(){fetch("https://acnlapi.azurewebsites.net/api/itemprices/get").then((function(e){return e.json()})).then((function(e){j(e),O(e)}))}),[]);var H=function(e){if(l!==e)return c(e),O(g.a.sortBy(C,[e])),void N("ascending");O(C.reverse()),N("ascending"===k?"descending":"ascending")},U=function(e,t){if(M(!1),e){fetch("https://acnlapi.azurewebsites.net/api/itemprices/delete?itemName=".concat(t));var n=b.filter((function(e){return e.name!==t.toLowerCase()}));j(n),O(n),A(""),z("")}},_=function(){var e=/^\d+$/.test(T);if(T&&x&&e){fetch("https://acnlapi.azurewebsites.net/api/itemprices/add?itemName=".concat(x.toLowerCase().trim(),"&price=").concat(T.trim()));var t=Object(o.a)(b);t.push({name:x.toLowerCase().trim(),price:Number(T)}),j(t),O(t),A(""),z("")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{stackable:!0,columns:2},r.a.createElement(i.a.Column,null,r.a.createElement(m.a,{fluid:!0,onChange:function(e,t){var n=t.value;A(n),n||O(b);var a=0,r=[];b.forEach((function(e){e.name.indexOf(n.toLowerCase())>-1&&(a+=1,r.push(e),a>=10)&&O(r)})),O(r)},icon:{name:"search"},placeholder:"search",value:x})),C&&C.length<4&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a.Column,null,r.a.createElement(m.a,{fluid:!0,onChange:function(e,t){var n=t.value;n?/^\d+$/.test(n)&&z(n):z("")},value:T,placeholder:"enter price",action:!0,onClick:_},r.a.createElement("input",null),r.a.createElement(s.a,{primary:!0,icon:!0,onClick:_},r.a.createElement(f.a,{name:"plus"})))))),C&&C.length>0&&r.a.createElement(E.a,{sortable:!0,unstackable:!0},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.HeaderCell,{sorted:"name"===l?k:null,onClick:function(){return H("name")}},"Name"),r.a.createElement(E.a.HeaderCell,{sorted:"price"===l?k:null,onClick:function(){return H("price")}},"Price"),r.a.createElement(E.a.HeaderCell,null,"Actions"))),r.a.createElement(E.a.Body,null,g.a.map(C,(function(e){var t=e.price,n=e.name;return r.a.createElement(E.a.Row,{key:n},r.a.createElement(E.a.Cell,null,n),r.a.createElement(E.a.Cell,null,Number(t)),!D&&r.a.createElement(E.a.Cell,null,r.a.createElement(s.a,{color:"red",size:"tiny",icon:!0,onClick:function(){return M(!0)}}," ",r.a.createElement(f.a,{name:"trash"}))),D&&r.a.createElement(E.a.Cell,null,r.a.createElement(s.a,{color:"red",size:"tiny",icon:!0,onClick:function(){return U(!1,n)}}," ",r.a.createElement(f.a,{name:"cancel"})),r.a.createElement(s.a,{color:"green",size:"tiny",icon:!0,onClick:function(){return U(!0,n)}}," ",r.a.createElement(f.a,{name:"checkmark"}))))})))),C&&C.length<4&&r.a.createElement(p.a,null,r.a.createElement("div",null,"Don't see what you're looking for? Double check your spelling and then add a price!")))},b=n(183),j=function(e){var t=e.performLogin;Object(a.useEffect)((function(){var e=localStorage.getItem("userName");e&&t(e)}));return r.a.createElement(b.GoogleLogin,{clientId:window.location.href.indexOf("localhost")>-1?"296712442440-7ucpq9fvi7942h3pbf4ue59jtfl5119g.apps.googleusercontent.com":"296712442440-c4379tsukpnco35rr57d4as5uslqg0gl.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){var n=e.profileObj.email.replace("@","");t(n),localStorage.clear(),localStorage.setItem("userName",n)},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin"})},w=function(e){var t=e.performLogout;return r.a.createElement(s.a,{onClick:function(){t(),localStorage.clear()}},"Logout")},v=n(78),C=n(382),O=n(199),y=(n(357),function(e){var t=e.fruits,n=e.userName,l=e.addNewTown,c=Object(a.useState)(null),o=Object(u.a)(c,2),f=o[0],E=o[1],p=Object(a.useState)(""),d=Object(u.a)(p,2),g=d[0],h=d[1],b=Object(a.useState)(""),j=Object(u.a)(b,2),w=j[0],y=j[1],S=Object(a.useState)(new Date),k=Object(u.a)(S,2),N=k[0],P=k[1],R=function(){fetch("https://acnlapi.azurewebsites.net/api/town/add?userName=".concat(n,"&townName=").concat(g,"&mayorName=").concat(w,"&createdDate=").concat(N.toISOString(),"&nativeFruit=").concat(f)).then((function(e){return e.json()})).then((function(e){l([e])}))};return r.a.createElement(i.a,{stackable:!0,columns:2},r.a.createElement(i.a.Row,null,r.a.createElement(i.a.Column,{width:8},r.a.createElement("span",null,"A Town wasn't found for your account, please add one!"))),r.a.createElement(i.a.Row,null,r.a.createElement(i.a.Column,null,r.a.createElement(v.a,{size:"large"},"Town Name")),r.a.createElement(i.a.Column,null,r.a.createElement(m.a,{onChange:function(e){return h(e.target.value)}}))),r.a.createElement(i.a.Row,null,r.a.createElement(i.a.Column,null,r.a.createElement(v.a,{size:"large"},"Mayor Name")),r.a.createElement(i.a.Column,null,r.a.createElement(m.a,{onChange:function(e){return y(e.target.value)}}))),r.a.createElement(i.a.Row,null,r.a.createElement(i.a.Column,null,r.a.createElement(v.a,{size:"large"},"Created Date")),r.a.createElement(i.a.Column,null,r.a.createElement(O.a,{onChange:function(e,t){return P(t.value)}}))),r.a.createElement(i.a.Row,null,r.a.createElement(i.a.Column,null,r.a.createElement(v.a,{size:"large"},"Native Fruit")),r.a.createElement(i.a.Column,null,r.a.createElement(C.a,{placeholder:"Select your fruit",options:function(){for(var e=[],n=0;n<t.length;n++)e.push({key:n,value:n,text:t[n]});return e}(),onChange:function(e,t){return E(t.value)}}))),r.a.createElement(i.a.Row,null,r.a.createElement(i.a.Column,null,r.a.createElement(s.a,{onClick:R,primary:!0},"Save"))))}),S=["Sunday(Buy)","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=function(e){var t=e.town,n=Object(a.useState)([]),l=Object(u.a)(n,2),c=l[0],o=l[1],i=Object(a.useState)([]),f=Object(u.a)(i,2),p=f[0],d=f[1],h=Object(a.useState)(0),b=Object(u.a)(h,2),j=b[0],w=b[1],C=Object(a.useState)(-1),O=Object(u.a)(C,2),y=O[0],k=O[1],N=Object(a.useState)(-1),P=Object(u.a)(N,2),R=P[0],T=P[1];Object(a.useEffect)((function(){if(t){var e=t.turnipPrices.split(".");z(e)}}),[t]);var z=function(e){o(e.filter((function(e,t){return t%2===0}))),d(e.filter((function(e,t){return t%2===1})))},F=function(e,t){return e.map((function(n,a){return y===a&&t===R?r.a.createElement(E.a.Cell,{selectable:!0,textAlign:"center"},r.a.createElement(m.a,{onChange:function(n){return function(e,t,n,a){var r=e.slice();r[n]=t,0===a?o(r):d(r)}(e,n.target.value,a,t)}})):r.a.createElement(E.a.Cell,{selectable:!0,textAlign:"center",onClick:function(){return e=a,T(t),void k(e);var e}},n)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{definition:!0,unstackable:!0},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,r.a.createElement(v.a,{ribbon:!0,color:"red"},"Turnips")),g.a.map(S,(function(e){return r.a.createElement(E.a.HeaderCell,null,e)})))),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,"Morning"),F(c,0)),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,"Afternoon"),F(p,1)),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,"Potential Profits"),r.a.createElement(E.a.Cell,{textAlign:"center"},"N/A"),function(){var e=c[0],n=c.map((function(n,a){return 0===a?a:t.turnipsOwned*n-t.turnipsOwned*e})),a=p.map((function(n,a){return 0===a?a:t.turnipsOwned*n-t.turnipsOwned*e}));return[0,0,0,0,0,0,0].map((function(e,t){return n[t]>a[t]?n[t]:a[t]})).map((function(e,t){if(0!==t)return r.a.createElement(E.a.Cell,{textAlign:"center"},e)}))}()))),r.a.createElement(s.a,{primary:!0,size:"large",onClick:function(){T(-1),k(-1);var e=[];c.forEach((function(t,n){e.push(t),e.push(p[n])}));var n=e.join(".");fetch("https://acnlapi.azurewebsites.net/api/town/UpdateTurnips?userName=".concat(t.ownerUsername,"&townName=").concat(t.name,"&turnipPrices=").concat(n,"&quantity=").concat(j)).then((function(e){return e.json()})).then((function(e){var t=e.turnipPrices.split(".");z(t)}))}},"Save"),r.a.createElement(m.a,{label:{tag:!0,content:"Add Turnips",color:"red"},labelPosition:"right",placeholder:"Quantity...",defaultValue:j,onChange:function(e){return w(e.target.value)}}))},N=["Apples","Cherries","Oranges","Peaches","Pears"],P=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(null),i=Object(u.a)(o,2),m=i[0],s=i[1];Object(a.useEffect)((function(){fetch("https://acnlapi.azurewebsites.net/api/town/get?userName=".concat(m)).then((function(e){return e.json()})).then((function(e){c(e)}))}),[m]);return r.a.createElement("div",null,m?r.a.createElement(w,{performLogout:function(){return s(null)}}):r.a.createElement(j,{performLogin:function(e){return s(e)}}),m&&l&&l.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,"Town ",l[0].name),r.a.createElement("li",null,"Mayor ",l[0].mayorName),r.a.createElement("li",null,"Created ",l[0].created),r.a.createElement("li",null,"Fruit ",N[l[0].nativeFruit]),r.a.createElement("li",null,"Turnips Owned: ",l[0].turnipsOwned)),r.a.createElement(k,{town:l[0]})):!m||l&&0!==l.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(y,{fruits:N,userName:m,addNewTown:function(e){return c(e)}}))},R=n(386),T=n(383),z=n(200),F=(n(358),n(196)),L=n.n(F),x=function(e){return r.a.createElement(T.a,{className:"container"},r.a.createElement(z.a,{className:"logo",src:L.a}),r.a.createElement(R.a,{menu:{pointing:!0},panes:[{menuItem:"Prices",render:function(){return r.a.createElement(R.a.Pane,{attached:!1},r.a.createElement(h,null))}},{menuItem:"My Town",render:function(){return r.a.createElement(R.a.Pane,{attached:!1},r.a.createElement(P,null))}}]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.1d280d81.chunk.js.map